---
description: バージョンアップ時の必須更新ファイルとリリース手順
globs:
alwaysApply: true
---

# バージョンアップ時の必須更新ファイル

バージョンアップ（機能追加、バグ修正、改善など）を行う際は、**必ず以下の3つのファイルを更新すること**：

## 1. package.json
- `version` フィールドを更新
- セマンティックバージョニングに従う：
  - **Major (x.0.0)**: 破壊的変更
  - **Minor (0.x.0)**: 後方互換性のある機能追加
  - **Patch (0.0.x)**: バグ修正、小さな改善

## 2. CHANGELOG.md
- 新しいバージョンセクションを追加
- 日付を記載
- 変更内容をカテゴリ分けして記載：
  - **追加 (Added)**: 新機能
  - **変更 (Changed)**: 既存機能の変更
  - **非推奨 (Deprecated)**: 今後削除予定の機能
  - **削除 (Removed)**: 削除された機能
  - **修正 (Fixed)**: バグ修正
  - **改善 (Improved)**: パフォーマンス改善、UX改善など
  - **セキュリティ (Security)**: セキュリティ関連の修正

## 3. README.md
- バージョン番号の例を最新バージョンに更新
- 新機能の説明を追加（必要に応じて）
- 使用方法やAPIの変更を反映
- インストール例のバージョン指定を更新

## バージョンアップの手順

1. コードの変更を完了
2. **動作テストを実施**（設定ファイルやコア機能を変更した場合）
   - `test/dai-html`ディレクトリで`npm run build`を実行
   - 設定項目および主要機能（Autoprefixer, Sass, SVGO等）が正しく動作することを確認
   - テスト結果を`test/dai-html/TEST_REPORT.md`に記録
3. 上記3つのファイルを更新
4. `git add -A`
5. `git commit -m "バージョンx.x.xに更新: 変更内容の要約"`
6. `git tag -a vx.x.x -m "バージョンx.x.x: 変更内容"`
7. `git push origin main`
8. `git push origin vx.x.x`

## その他のルール

- コミットメッセージは日本語で記述
- 設定ファイルの変更は慎重に（後方互換性を考慮）
- 新機能追加時は example ファイルも更新
